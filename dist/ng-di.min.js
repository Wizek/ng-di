/*! 
* ng-di - v0.0.3 - 2012-11-06
* Spectacular Angular Dependency Injection isolated as a library
* https://github.com/jmendiara/ng-di
* Adaptation done 2012 Javier Mendiara;
* All credits must go to the AngularJS team.
* Licensed MIT
 */
(function(e,t){function i(e){return String.fromCharCode(e)}function s(e){return parseInt(e,10)}function m(e,t,n){var r;if(e)if(D(e))for(r in e)r!="prototype"&&r!="length"&&r!="name"&&e.hasOwnProperty(r)&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==m)e.forEach(t,n);else if(L(e)&&O(e.length))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function g(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function y(e,t,n){var r=g(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function b(e){return function(t,n){e(n,t)}}function w(){var e=v.length,t;while(e){e--,t=v[e].charCodeAt(0);if(t==57)return v[e]="A",v.join("");if(t!=90)return v[e]=String.fromCharCode(t+1),v.join("");v[e]="0"}return v.unshift("0"),v.join("")}function E(e){return m(arguments,function(t){t!==e&&m(t,function(t,n){e[n]=t})}),e}function S(e,t){return E(new(E(function(){},{prototype:e})),t)}function x(){}function T(e){return e}function N(e){return function(){return e}}function C(e){return typeof e=="undefined"}function k(e){return typeof e!="undefined"}function L(e){return e!=null&&typeof e=="object"}function A(e){return typeof e=="string"}function O(e){return typeof e=="number"}function M(e){return h.apply(e)=="[object Date]"}function _(e){return h.apply(e)=="[object Array]"}function D(e){return typeof e=="function"}function P(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function H(e){return e&&e.$evalAsync&&e.$watch}function B(e){return h.apply(e)==="[object File]"}function j(e){return typeof e=="boolean"}function F(e){return A(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function I(e){return e&&(e.nodeName||e.bind&&e.find)}function q(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function R(e,t,n){var r=[];return m(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r}function U(e,t){var n=0,r;if(_(e)||A(e))return e.length;if(L(e))for(r in e)(!t||e.hasOwnProperty(r))&&n++;return n}function z(e,t){return W(e,t)!=-1}function W(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function X(e,t){var n=W(e,t);return n>=0&&e.splice(n,1),t}function V(e){if(e)switch(e.nodeName){case"OPTION":case"PRE":case"TITLE":return!0}return!1}function $(e,t){if(P(e)||H(e))throw new f("Can't copy Window or Scope");if(!t)t=e,e&&(_(e)?t=$(e,[]):M(e)?t=new Date(e.getTime()):L(e)&&(t=$(e,{})));else{if(e===t)throw new f("Can't copy equivalent objects or arrays");if(_(e)){while(t.length)t.pop();for(var n=0;n<e.length;n++)t.push($(e[n]))}else{m(t,function(e,n){delete t[n]});for(var r in e)t[r]=$(e[r])}}return t}function J(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&n.substr(0,2)!=="$$"&&(t[n]=e[n]);return t}function K(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;var n=typeof e,r=typeof t,i,s,o;if(n==r&&n=="object"){if(!_(e)){if(M(e))return M(t)&&e.getTime()==t.getTime();if(H(e)||H(t)||P(e)||P(t))return!1;o={};for(s in e){if(s.charAt(0)!=="$"&&!D(e[s])&&!K(e[s],t[s]))return!1;o[s]=!0}for(s in t)if(!o[s]&&s.charAt(0)!=="$"&&!D(t[s]))return!1;return!0}if((i=e.length)==t.length){for(s=0;s<i;s++)if(!K(e[s],t[s]))return!1;return!0}}return!1}function Q(e,t,n){return e.concat(l.call(t,n))}function G(e,t){return l.call(e,t||0)}function Y(e,t){var n=arguments.length>2?G(arguments,2):[];return!D(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(l.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function Z(n,r){var i=r;return/^\$+/.test(n)?i=t:P(r)?i="$WINDOW":r&&e.document&&e.document===r?i="$DOCUMENT":H(r)&&(i="$SCOPE"),i}function et(e,t){return JSON.stringify(e,Z,t?"  ":null)}function tt(e){return A(e)?JSON.parse(e):e}function nt(e){if(e&&e.length!==0){var t=r(""+e);e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}function rt(e,t,n){if(!e)throw new f("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function it(e,t,n){return n&&_(e)&&(e=e[e.length-1]),rt(D(e),t,"not a function, got "+(e&&typeof e=="object"?e.constructor.name||"Object":typeof e)),e}function st(e,t){function n(e,t,n){return e[t]||(e[t]=n())}return n(n(e,t,Object),"module",function(){var e={};return function(r,i,s){return i&&e.hasOwnProperty(r)&&(e[r]=null),n(e,r,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),u}}if(!i)throw new f("No module: "+r);var t=[],n=[],o=e("$injector","invoke"),u={_invokeQueue:t,_runBlocks:n,requires:i,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:o,run:function(e){return n.push(e),this}};return s&&o(s),u})}})}function ut(t){var i=E(t,{copy:$,extend:E,equals:K,forEach:m,injector:mt,noop:x,bind:Y,toJson:et,fromJson:tt,identity:T,isUndefined:C,isDefined:k,isString:A,isFunction:D,isObject:L,isNumber:O,isElement:I,isArray:_,version:ot,isDate:M,lowercase:r,uppercase:o,callbacks:{counter:0}});d=st(e,n),d(n,[],["$provide",function(t){t.constant("$utils",i)}])}function at(e){var n=typeof e,r;return n=="object"&&e!==null?typeof (r=e.$$hashKey)=="function"?r=e.$$hashKey():r===t&&(r=e.$$hashKey=w()):r=e,n+":"+r}function ft(e){m(e,this.put,this)}function lt(){}function vt(e){var t,n,r,i;return typeof e=="function"?(t=e.$inject)||(t=[],n=e.toString().replace(dt,""),r=n.match(ct),m(r[1].split(ht),function(e){e.replace(pt,function(e,n,r){t.push(r)})}),e.$inject=t):_(e)?(i=e.length-1,it(e[i],"fn"),t=e.slice(0,i)):it(e,"fn",!0),t}function mt(e){function t(e){return function(t,n){if(!L(t))return e(t,n);m(t,b(e))}}function n(e,t){D(t)&&(t=y.instantiate(t));if(!t.$get)throw new f("Provider "+e+" must define $get factory method.");return g[e+h]=t}function r(e,t){return n(e,{$get:t})}function i(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}function s(e,t){return r(e,N(t))}function o(e,t){g[e]=t,w[e]=t}function u(e,t){var n=y.get(e+h),r=n.$get;n.$get=function(){var e=E.invoke(r,n);return E.invoke(t,null,{$delegate:e})}}function a(e){var t=[];return m(e,function(e){if(v.get(e))return;v.put(e,!0);if(A(e)){var n=d(e);t=t.concat(a(n.requires)).concat(n._runBlocks);try{for(var r=n._invokeQueue,i=0,s=r.length;i<s;i++){var o=r[i],u=y.get(o[0]);u[o[1]].apply(u,o[2])}}catch(f){throw f.message&&(f.message+=" from "+e),f}}else if(D(e))try{t.push(y.invoke(e))}catch(f){throw f.message&&(f.message+=" from "+e),f}else if(_(e))try{t.push(y.invoke(e))}catch(f){throw f.message&&(f.message+=" from "+String(e[e.length-1])),f}else it(e,"module")}),t}function l(e,t){function n(n){if(typeof n!="string")throw new f("Service name expected");if(e.hasOwnProperty(n)){if(e[n]===c)throw new f("Circular dependency: "+p.join(" <- "));return e[n]}try{return p.unshift(n),e[n]=c,e[n]=t(n)}finally{p.shift()}}function r(e,t,r){var i=[],s=vt(e),o,u,a;for(u=0,o=s.length;u<o;u++)a=s[u],i.push(r&&r.hasOwnProperty(a)?r[a]:n(a,p));e.$inject||(e=e[o]);switch(t?-1:i.length){case 0:return e();case 1:return e(i[0]);case 2:return e(i[0],i[1]);case 3:return e(i[0],i[1],i[2]);case 4:return e(i[0],i[1],i[2],i[3]);case 5:return e(i[0],i[1],i[2],i[3],i[4]);case 6:return e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6]);case 8:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);case 9:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8]);case 10:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9]);default:return e.apply(t,i)}}function i(e,t){var n=function(){},i,s;return n.prototype=(_(e)?e[e.length-1]:e).prototype,i=new n,s=r(e,i,t),L(s)?s:i}return{invoke:r,instantiate:i,get:n,annotate:vt}}var c={},h="Provider",p=[],v=new ft,g={$provide:{provider:t(n),factory:t(r),service:t(i),value:t(s),constant:t(o),decorator:u}},y=g.$injector=l(g,function(){throw new f("Unknown provider: "+p.join(" <- "))}),w={},E=w.$injector=l(w,function(e){var t=y.get(e+h);return E.invoke(t.$get,t)});return m(a(e),function(e){E.invoke(e||x)}),E}var n="di",r=function(e){return A(e)?e.toLowerCase():e},o=function(e){return A(e)?e.toUpperCase():e},u=function(e){return A(e)?e.replace(/[A-Z]/g,function(e){return i(e.charCodeAt(0)|32)}):e},a=function(e){return A(e)?e.replace(/[a-z]/g,function(e){return i(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(r=u,o=a);var f=e.Error,l=[].slice,c=[].push,h=Object.prototype.toString,p=e[n]||(e[n]={}),d,v=["0","0","0"];x.$inject=[],T.$inject=[];var ot={full:"1.0.2",major:1,minor:0,dot:2,codeName:"debilitating-awesomeness"};ft.prototype={put:function(e,t){this[at(e)]=t},get:function(e){return this[at(e)]},remove:function(e){var t=this[e=at(e)];return delete this[e],t}},lt.prototype={push:function(e,t){var n=this[e=at(e)];n?n.push(t):this[e]=[t]},shift:function(e){var t=this[e=at(e)];if(t)return t.length==1?(delete this[e],t[0]):t.shift()},peek:function(e){var t=this[e=at(e)];if(t)return t[0]}};var ct=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,ht=/,/,pt=/^\s*(_?)(\S+?)\1\s*$/,dt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;ut(e[n])})(typeof exports=="object"&&exports||this);