/*! 
* ng-di - v0.0.4 - 2012-11-09
* Spectacular Angular Dependency Injection isolated as a library
* https://github.com/jmendiara/ng-di
* Adaptation done 2012 Javier Mendiara;
* All credits must go to the AngularJS team.
* Licensed MIT
 */
(function(e,t){function i(e){return String.fromCharCode(e)}function s(e){return parseInt(e,10)}function g(e,t,n){var r;if(e)if(P(e))for(r in e)r!="prototype"&&r!="length"&&r!="name"&&e.hasOwnProperty(r)&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==g)e.forEach(t,n);else if(A(e)&&M(e.length))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function y(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function b(e,t,n){var r=y(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function w(e){return function(t,n){e(n,t)}}function E(){var e=m.length,t;while(e){e--,t=m[e].charCodeAt(0);if(t==57)return m[e]="A",m.join("");if(t!=90)return m[e]=String.fromCharCode(t+1),m.join("");m[e]="0"}return m.unshift("0"),m.join("")}function S(e){return g(arguments,function(t){t!==e&&g(t,function(t,n){e[n]=t})}),e}function x(e,t){return S(new(S(function(){},{prototype:e})),t)}function T(){}function N(e){return e}function C(e){return function(){return e}}function k(e){return typeof e=="undefined"}function L(e){return typeof e!="undefined"}function A(e){return e!=null&&typeof e=="object"}function O(e){return typeof e=="string"}function M(e){return typeof e=="number"}function _(e){return h.apply(e)=="[object Date]"}function D(e){return h.apply(e)=="[object Array]"}function P(e){return typeof e=="function"}function H(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function B(e){return e&&e.$evalAsync&&e.$watch}function j(e){return h.apply(e)==="[object File]"}function F(e){return typeof e=="boolean"}function I(e){return O(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function q(e){return e&&(e.nodeName||e.bind&&e.find)}function R(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function U(e,t,n){var r=[];return g(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r}function z(e,t){var n=0,r;if(D(e)||O(e))return e.length;if(A(e))for(r in e)(!t||e.hasOwnProperty(r))&&n++;return n}function W(e,t){return X(e,t)!=-1}function X(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function V(e,t){var n=X(e,t);return n>=0&&e.splice(n,1),t}function $(e){if(e)switch(e.nodeName){case"OPTION":case"PRE":case"TITLE":return!0}return!1}function J(e,t){if(H(e)||B(e))throw new f("Can't copy Window or Scope");if(!t)t=e,e&&(D(e)?t=J(e,[]):_(e)?t=new Date(e.getTime()):A(e)&&(t=J(e,{})));else{if(e===t)throw new f("Can't copy equivalent objects or arrays");if(D(e)){while(t.length)t.pop();for(var n=0;n<e.length;n++)t.push(J(e[n]))}else{g(t,function(e,n){delete t[n]});for(var r in e)t[r]=J(e[r])}}return t}function K(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&n.substr(0,2)!=="$$"&&(t[n]=e[n]);return t}function Q(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;var n=typeof e,r=typeof t,i,s,o;if(n==r&&n=="object"){if(!D(e)){if(_(e))return _(t)&&e.getTime()==t.getTime();if(B(e)||B(t)||H(e)||H(t))return!1;o={};for(s in e){if(s.charAt(0)!=="$"&&!P(e[s])&&!Q(e[s],t[s]))return!1;o[s]=!0}for(s in t)if(!o[s]&&s.charAt(0)!=="$"&&!P(t[s]))return!1;return!0}if((i=e.length)==t.length){for(s=0;s<i;s++)if(!Q(e[s],t[s]))return!1;return!0}}return!1}function G(e,t,n){return e.concat(l.call(t,n))}function Y(e,t){return l.call(e,t||0)}function Z(e,t){var n=arguments.length>2?Y(arguments,2):[];return!P(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(l.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function et(n,r){var i=r;return/^\$+/.test(n)?i=t:H(r)?i="$WINDOW":r&&e.document&&e.document===r?i="$DOCUMENT":B(r)&&(i="$SCOPE"),i}function tt(e,t){return JSON.stringify(e,et,t?"  ":null)}function nt(e){return O(e)?JSON.parse(e):e}function rt(e){if(e&&e.length!==0){var t=r(""+e);e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}function it(e,t,n){if(!e)throw new f("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function st(e,t,n){return n&&D(e)&&(e=e[e.length-1]),it(P(e),t,"not a function, got "+(e&&typeof e=="object"?e.constructor.name||"Object":typeof e)),e}function ot(e,t){function n(e,t,n){return e[t]||(e[t]=n())}return n(n(e,t,Object),"module",function(){var e={};return function(r,i,s){return i&&e.hasOwnProperty(r)&&(e[r]=null),n(e,r,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),u}}if(!i)throw new f("No module: "+r);var t=[],n=[],o=e("$injector","invoke"),u={_invokeQueue:t,_runBlocks:n,requires:i,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:o,run:function(e){return n.push(e),this}};return s&&o(s),u})}})}function at(t){var i=S(t,{copy:J,extend:S,equals:Q,forEach:g,injector:gt,noop:T,bind:Z,toJson:tt,fromJson:nt,identity:N,isUndefined:k,isDefined:L,isString:O,isFunction:P,isObject:A,isNumber:M,isElement:q,isArray:D,version:ut,isDate:_,lowercase:r,uppercase:o,callbacks:{counter:0},valueFn:C,nextUid:E,arrayRemove:V,concat:G,assertArgFn:st,map:U,sliceArgs:Y,"int":s,msie:p,size:z,slice:l,indexOf:X,forEachSorted:b,trim:I,isFile:j,assertArg:it});v=ot(e,n),v(n,[],["$provide",function(t){t.constant("$utils",i)}])}function ft(e){var n=typeof e,r;return n=="object"&&e!==null?typeof (r=e.$$hashKey)=="function"?r=e.$$hashKey():r===t&&(r=e.$$hashKey=E()):r=e,n+":"+r}function lt(e){g(e,this.put,this)}function ct(){}function mt(e){var t,n,r,i;return typeof e=="function"?(t=e.$inject)||(t=[],n=e.toString().replace(vt,""),r=n.match(ht),g(r[1].split(pt),function(e){e.replace(dt,function(e,n,r){t.push(r)})}),e.$inject=t):D(e)?(i=e.length-1,st(e[i],"fn"),t=e.slice(0,i)):st(e,"fn",!0),t}function gt(e){function t(e){return function(t,n){if(!A(t))return e(t,n);g(t,w(e))}}function n(e,t){P(t)&&(t=y.instantiate(t));if(!t.$get)throw new f("Provider "+e+" must define $get factory method.");return m[e+h]=t}function r(e,t){return n(e,{$get:t})}function i(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}function s(e,t){return r(e,C(t))}function o(e,t){m[e]=t,b[e]=t}function u(e,t){var n=y.get(e+h),r=n.$get;n.$get=function(){var e=E.invoke(r,n);return E.invoke(t,null,{$delegate:e})}}function a(e){var t=[];return g(e,function(e){if(d.get(e))return;d.put(e,!0);if(O(e)){var n=v(e);t=t.concat(a(n.requires)).concat(n._runBlocks);try{for(var r=n._invokeQueue,i=0,s=r.length;i<s;i++){var o=r[i],u=y.get(o[0]);u[o[1]].apply(u,o[2])}}catch(f){throw f.message&&(f.message+=" from "+e),f}}else if(P(e))try{t.push(y.invoke(e))}catch(f){throw f.message&&(f.message+=" from "+e),f}else if(D(e))try{t.push(y.invoke(e))}catch(f){throw f.message&&(f.message+=" from "+String(e[e.length-1])),f}else st(e,"module")}),t}function l(e,t){function n(n){if(typeof n!="string")throw new f("Service name expected");if(e.hasOwnProperty(n)){if(e[n]===c)throw new f("Circular dependency: "+p.join(" <- "));return e[n]}try{return p.unshift(n),e[n]=c,e[n]=t(n)}finally{p.shift()}}function r(e,t,r){var i=[],s=mt(e),o,u,a;for(u=0,o=s.length;u<o;u++)a=s[u],i.push(r&&r.hasOwnProperty(a)?r[a]:n(a,p));e.$inject||(e=e[o]);switch(t?-1:i.length){case 0:return e();case 1:return e(i[0]);case 2:return e(i[0],i[1]);case 3:return e(i[0],i[1],i[2]);case 4:return e(i[0],i[1],i[2],i[3]);case 5:return e(i[0],i[1],i[2],i[3],i[4]);case 6:return e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6]);case 8:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);case 9:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8]);case 10:return e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9]);default:return e.apply(t,i)}}function i(e,t){var n=function(){},i,s;return n.prototype=(D(e)?e[e.length-1]:e).prototype,i=new n,s=r(e,i,t),A(s)?s:i}return{invoke:r,instantiate:i,get:n,annotate:mt}}var c={},h="Provider",p=[],d=new lt,m={$provide:{provider:t(n),factory:t(r),service:t(i),value:t(s),constant:t(o),decorator:u}},y=m.$injector=l(m,function(){throw new f("Unknown provider: "+p.join(" <- "))}),b={},E=b.$injector=l(b,function(e){var t=y.get(e+h);return E.invoke(t.$get,t)});return g(a(e),function(e){E.invoke(e||T)}),E}var n="di",r=function(e){return O(e)?e.toLowerCase():e},o=function(e){return O(e)?e.toUpperCase():e},u=function(e){return O(e)?e.replace(/[A-Z]/g,function(e){return i(e.charCodeAt(0)|32)}):e},a=function(e){return O(e)?e.replace(/[a-z]/g,function(e){return i(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(r=u,o=a);var f=e.Error,l=[].slice,c=[].push,h=Object.prototype.toString,p=s((/msie (\d+)/.exec(r(e.navigator.userAgent))||[])[1]),d=e[n]||(e[n]={}),v,m=["0","0","0"];T.$inject=[],N.$inject=[];var ut={full:"1.0.2",major:1,minor:0,dot:2,codeName:"debilitating-awesomeness"};lt.prototype={put:function(e,t){this[ft(e)]=t},get:function(e){return this[ft(e)]},remove:function(e){var t=this[e=ft(e)];return delete this[e],t}},ct.prototype={push:function(e,t){var n=this[e=ft(e)];n?n.push(t):this[e]=[t]},shift:function(e){var t=this[e=ft(e)];if(t)return t.length==1?(delete this[e],t[0]):t.shift()},peek:function(e){var t=this[e=ft(e)];if(t)return t[0]}};var ht=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,pt=/,/,dt=/^\s*(_?)(\S+?)\1\s*$/,vt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;at(e[n])})(typeof exports=="object"&&exports||this);